(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5276],{79177:function(e,n,r){"use strict";r.r(n);var o=r(52322),i=r(45392),c=r(70758);function _createMdxContent(e){var n=Object.assign({div:"div",h1:"h1",p:"p",h2:"h2",a:"a",svg:"svg",use:"use",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",code:"code",pre:"pre",blockquote:"blockquote"},(0,i.ah)(),e.components);return(0,o.jsxs)(n.div,{className:"main-content",id:"main-content",children:["\n",(0,o.jsx)(n.h1,{id:"migration-from-v1-to-v2",children:"Migration From v1 to v2"}),"\n",(0,o.jsx)(n.p,{children:"⚠️ This guide outlines the necessary steps to migrate from Tonic UI v1 to v2. Please review the breaking changes and assess the compatibility with your current setup before proceeding with the upgrade."}),"\n",(0,o.jsxs)(n.h2,{id:"color-style",children:["Color Style",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#color-style",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsxs)(n.h3,{id:"the-migration-flow",children:["The migration flow",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#the-migration-flow",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"The following color styles are deprecated and will be removed in the next major release. Please update your code to avoid breaking changes in the future."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{align:"left",children:"Type"}),(0,o.jsx)(n.th,{align:"left",children:"Key"}),(0,o.jsx)(n.th,{align:"left",children:"Value"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{align:"left",children:(0,o.jsx)(n.a,{href:"../components/color-style#severity-deprecated",children:"Severity (deprecated)"})}),(0,o.jsx)(n.td,{align:"left",children:(0,o.jsx)(n.code,{children:"colorStyle.severity.*"})}),(0,o.jsx)(n.td,{align:"left",children:(0,o.jsx)(c.Z,{wordBreak:"break-all",children:JSON.stringify({dark:{severity:{critical:"magenta:60",high:"red:50",medium:"orange:50",low:"yellow:50",safe:"green:40",info:"gray:50",unknown:"gray:50"}},light:{severity:{critical:"magenta:60",high:"red:60",medium:"orange:50",low:"yellow:50",safe:"green:50",info:"gray:50",unknown:"gray:50"}}})})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{align:"left",children:(0,o.jsx)(n.a,{href:"../components/color-style#chart-deprecated",children:"Chart (deprecated)"})}),(0,o.jsx)(n.td,{align:"left",children:(0,o.jsx)(n.code,{children:"colorStyle.chart.classic.colors[]"})}),(0,o.jsx)(n.td,{align:"left",children:(0,o.jsx)(c.Z,{wordBreak:"break-all",children:JSON.stringify({dark:{chart:{classic:{colors:["gray:50","blue:50","green:40","orange:50","cyan:40","red:50","purple:50","teal:40","magenta:40","green:30","yellow:50"]}}},light:{chart:{classic:{colors:["gray:50","blue:60","green:50","orange:50","cyan:40","red:60","purple:60","teal:40","magenta:50","green:30","yellow:50"]}}}})})})]})]})]}),"\n",(0,o.jsx)(n.p,{children:"Let's see an example here:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const [colorStyle] = useColorStyle()\n\n// These will cause exceptions in next major release (e.g. v3 or later)\nconsole.log(colorStyle.severity.info);\nconsole.log(colorStyle.chart.classic.colors[0]);\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To use previously defined ",(0,o.jsx)(n.code,{children:"severity"})," and ",(0,o.jsx)(n.code,{children:"chart"})," colors, you need to pass a custom color style to ",(0,o.jsx)(n.code,{children:"TonicProvider"}),". Follow the setup below to use previous ",(0,o.jsx)(n.code,{children:"severity"})," and ",(0,o.jsx)(n.code,{children:"chart"})," colors:"]}),"\n",(0,o.jsx)(n.pre,{disabled:!0,children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import React from 'react';\nimport { Box, TonicProvider, colorStyle } from '@tonic-ui/react';\n\nconst customColorStyle = {\n  ...colorStyle,\n   dark: {\n    ...colorStyle.dark,\n\n    // deprecated\n    severity: {\n      critical: 'magenta:60',\n      high: 'red:50',\n      medium: 'orange:50',\n      low: 'yellow:50',\n      safe: 'green:40',\n      info: 'gray:50',\n      unknown: 'gray:50',\n    },\n\n    // deprecated\n    chart: {\n      classic: {\n        colors: [\n          'gray:50',\n          'blue:50',\n          'green:40',\n          'orange:50',\n          'cyan:40',\n          'red:50',\n          'purple:50',\n          'teal:40',\n          'magenta:40',\n          'green:30',\n          'yellow:50',\n        ],\n      },\n    },\n  },\n  light: {\n    ...colorStyle.light,\n\n    // deprecated\n    severity: {\n      critical: 'magenta:60',\n      high: 'red:60',\n      medium: 'orange:50',\n      low: 'yellow:50',\n      safe: 'green:50',\n      info: 'gray:50',\n      unknown: 'gray:50',\n    },\n\n    // deprecated\n    chart: {\n      classic: {\n        colors: [\n          'gray:50',\n          'blue:60',\n          'green:50',\n          'orange:50',\n          'cyan:40',\n          'red:60',\n          'purple:60',\n          'teal:40',\n          'magenta:50',\n          'green:30',\n          'yellow:50',\n        ],\n      },\n    },\n  },\n};\n\nconst App = (props) => (\n  <TonicProvider\n    colorStyle={{\n      defaultValue: customColorStyle,\n    }}\n  >\n    <Box {...props} />\n  </TonicProvider>\n);\n\nexport default App;\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"recommended-configuration",children:["Recommended configuration",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#recommended-configuration",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsxs)(n.p,{children:["Here is the recommended configuration for the color style. Please note that some old keys, such as ",(0,o.jsx)(n.code,{children:"severity.safe"})," and ",(0,o.jsx)(n.code,{children:"severity.unknown"}),", are no longer available here. You may need to adjust your code accordingly."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { colorStyle } from '@tonic-ui/react';\n\n// Let's say you want to define color style for your components\nconst customColorStyle = {\n  ...colorStyle,\n  dark: {\n    ...colorStyle.dark,\n    risk: {\n      high: 'red:50',\n      medium: 'yellow:50',\n      low: 'green:40',\n      none: 'gray:50',\n    },\n    severity: {\n      critical: 'magenta:60',\n      high: 'red:50',\n      medium: 'orange:50',\n      low: 'yellow:50',\n      info: 'gray:50',\n    },\n  },\n  light: {\n    ...colorStyle.light,\n    risk: {\n      high: 'red:60',\n      medium: 'yellow:50',\n      low: 'green:50',\n      none: 'gray:50',\n    },\n    severity: {\n      critical: 'magenta:60',\n      high: 'red:60',\n      medium: 'orange:50',\n      low: 'yellow:50',\n      info: 'gray:50',\n    },\n  },\n};\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"icons",children:["Icons",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#icons",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsxs)(n.p,{children:["In Tonic UI v2, icon components must be imported separately from the ",(0,o.jsx)(n.code,{children:"@tonic-ui/react-icons"})," package. Here are the steps to ensure a smooth migration process."]}),"\n",(0,o.jsxs)(n.h3,{id:"step-1-update-the-dependencies",children:["Step 1: Update the dependencies",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#step-1-update-the-dependencies",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsxs)(n.p,{children:["Make sure your ",(0,o.jsx)(n.code,{children:"package.json"})," file includes the latest versions of Tonic UI packages:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:'  "dependencies": {\n+   "@tonic-ui/react": "^2.0.0",\n+   "@tonic-ui/react-icons": "^2.0.0",\n+   "@trendmicro/tmicon": "^1.0.0"\n  }\n'})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@trendmicro/tmicon"})," package is only necessary for step 2 if you've used the ",(0,o.jsx)(n.a,{href:"../components/icon",children:"Icon"})," component in v1 and don't want to too much changes. Proceed to step 3 if you prefer to make modifications during the upgrade."]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"step-2-import-svg-icons-and-generate-icons-for-the-theme",children:["Step 2: Import SVG icons and generate icons for the theme",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#step-2-import-svg-icons-and-generate-icons-for-the-theme",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"Manually generate icons and pass them to the theme. This step ensures your app displays icons properly after the upgrade."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import {\n  TonicProvider,\n  theme,\n} from '@tonic-ui/react';\nimport * as tmicon from '@trendmicro/tmicon';\nimport React from 'react';\n\nconst icons = tmicon.icons.reduce((acc, { name, paths, viewBox }) => {\n  return [\n    ...acc,\n    [\n      name,\n      <svg viewBox={viewBox}>\n        {paths.map((path, index) => (\n          <path\n            key={`${name}-${index}`}\n            d={path}\n          />\n        ))}\n      </svg>\n    ],\n  ];\n}, []);\n\ntheme.icons = icons; // custom icons\n\nexport default () => (\n  <TonicProvider theme={theme}>\n    <App />\n  </TonicProvider>\n);\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"step-3-update-import-location-for-icon-components",children:["Step 3: Update import location for icon components",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#step-3-update-import-location-for-icon-components",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"This step updates the import locations for icon components within Tonic UI v2."}),"\n",(0,o.jsxs)(n.p,{children:["In Tonic UI v2, icon components must be imported separately from the ",(0,o.jsx)(n.code,{children:"@tonic-ui/react-icons"})," package. The diff should look like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:'  import { Badge, Icon } from \'@tonic-ui/react\';\n+ import { AlertIcon } from \'@tonic-ui/react-icons\';\n  import React from \'react\';\n\n  export default () => (\n    <Badge variant="dot">\n-     <Icon icon="alert" size="4x" />\n+     <Icon as={AlertIcon} size="4x" />\n    </Badge>\n  );\n'})}),"\n",(0,o.jsx)(n.p,{children:"To apply this change across your project, run the provided codemod to update your code accordingly:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npx @tonic-ui/codemod@latest react/v2.0.0/import-react-icons <path>\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"step-4-remove-unnecessary-icons-and-dependencies",children:["Step 4: Remove unnecessary icons and dependencies",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#step-4-remove-unnecessary-icons-and-dependencies",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsxs)(n.p,{children:["After updating the icon imports, you can safely remove the unnecessary ",(0,o.jsx)(n.code,{children:"@trendmicro/tmicon"})," dependency from the theme in your ",(0,o.jsx)(n.code,{children:"app.js"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:"- import * as tmicon from '@trendmicro/tmicon';\n- const icons = tmicon.icons.reduce((acc, { name, paths, viewBox }) => {\n-   return [\n-     ...acc,\n-     [\n-       name,\n-       <svg viewBox={viewBox}>\n-         {paths.map((path, index) => (\n-           <path\n-             key={`${name}-${index}`}\n-             d={path}\n-           />\n-         ))}\n-       </svg>\n-     ],\n-   ];\n- }, []);\n- theme.icons = icons; // custom icons\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"tmicon"})," package is no longer required to be listed in ",(0,o.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-diff",children:'  "dependencies": {\n    "@tonic-ui/react": "^2.0.0",\n    "@tonic-ui/react-icons": "^2.0.0",\n-   "@trendmicro/tmicon": "^1.0.0"\n  }\n'})})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,i.ah)(),e.components).wrapper;return n?(0,o.jsx)(n,Object.assign({},e,{children:(0,o.jsx)(_createMdxContent,e)})):_createMdxContent(e)}},19758:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getting-started/migration-v1-to-v2",function(){return r(79177)}])}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=19758)}),_N_E=e.O()}]);