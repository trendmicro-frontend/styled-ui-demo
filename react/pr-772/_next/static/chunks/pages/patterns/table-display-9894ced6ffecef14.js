(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4516],{58775:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var o=t(98922),l=t(49427),r=t(5632),a=t(2784),i=t(79525),s=t(98485),c=t(71561),u=t(28214),d=t(66824),m=["size"];function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}var f=(0,a.forwardRef)(function(e,n){var t=e.size,l=function(e,n){if(null==e)return{};var t,o,l=function(e,n){if(null==e)return{};var t,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,m);return a.createElement(o.SVGIcon,p({size:t,viewBox:"0 0 1024 1024"},l),a.createElement("path",{d:"M755 140.3l0.5-0.3h0.3L512 0 268.3 140h-0.3l0.8 0.4L68.6 256v512L512 1024l443.4-256V256L755 140.3z m-30 506.4v171.2L548 920.1V534.7L883.4 341v215.7l-158.4 90z m-584.4-90.6V340.8L476 534.4v385.7L300 818.5V646.7l-159.4-90.6zM511.7 280l171.1-98.3 166.3 96-336.9 194.5-337-194.6 165.7-95.7L511.7 280z"}))});f.displayName="CodeSandboxIcon";var h=t(30462);function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,o,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r=[],a=!0,i=!1;try{for(l=l.call(e);!(a=(t=l.next()).done)&&(r.push(t.value),!n||r.length!==n);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}}(e,n)||function(e,n){if(e){if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var g={fontFamily:'"SFMono-Medium", "SF Mono", "Segoe UI Mono", Menlo, Consolas, Courier, monospace',fontSize:14,overflowX:"auto"},v=function(e){var n=e.component,t=e.meta,m=(0,r.useRouter)(),p=x((0,a.useReducer)(function(e){return!e},!1),2),b=p[0],v=p[1],w=x((0,o.useColorMode)(),1)[0],y={dark:c.y,light:c.q}[w],S=x((0,l.useToggle)(!1),2),T=S[0],C=S[1],k=(0,s.Z)(null==t?void 0:t.raw),I=k.onCopy,M=k.hasCopied,E=(0,a.useCallback)(function(){I()},[I]),z=(0,a.useCallback)(function(){(0,u.b)({dependencies:null==t?void 0:t.dependencies,files:null==t?void 0:t.files,raw:null==t?void 0:t.raw,title:"Tonic UI"})},[t]),R=(0,a.useCallback)(function(){v(),C(!1)},[v,C]);return a.createElement(i.nu,{code:null==t?void 0:t.raw,disabled:!0,language:"jsx",theme:y},a.createElement(o.Box,{border:1,borderColor:{dark:"gray:70",light:"gray:30"}[w],p:"4x"},a.createElement(o.Box,{fontSize:"sm",lineHeight:"sm"},a.createElement(a.Fragment,{key:b},a.createElement(n,null)))),a.createElement(o.Flex,{columnGap:"2x",justifyContent:"flex-end",mb:"4x"},a.createElement(h.Z,{"data-track":T?"CodeBlock|hide_source|".concat((0,d.Z)({path:m.pathname})):"CodeBlock|show_source|".concat((0,d.Z)({path:m.pathname})),onClick:C},a.createElement(o.Tooltip,{label:T?"Hide the source":"Show the source"},a.createElement(o.Icon,{icon:"code",size:{sm:"5x",md:"4x"}}))),a.createElement(h.Z,{"data-track":"CodeBlock|copy_source|".concat((0,d.Z)({path:m.pathname})),onClick:E},a.createElement(o.Tooltip,{label:M?"Copied":"Copy the source"},a.createElement(o.Icon,{icon:"file-copy-o",size:{sm:"5x",md:"4x"}}))),a.createElement(h.Z,{"data-track":"CodeBlock|edit_in_codesandbox|".concat(m.pathname),onClick:z},a.createElement(o.Tooltip,{label:"Edit in CodeSandbox"},a.createElement(f,{size:{sm:"5x",md:"4x"}}))),a.createElement(h.Z,{"data-track":"CodeBlock|reset|".concat(m.pathname),onClick:R},a.createElement(o.Tooltip,{label:"Reset the demo"},a.createElement(o.Icon,{icon:"redo",size:{sm:"5x",md:"4x"}})))),a.createElement(o.Fade,{in:T},a.createElement(o.Collapse,{in:T,unmountOnExit:!0},a.createElement(i.uz,{style:g}))))};v.displayName="Demo";var w=v},44508:function(e,n,t){"use strict";t.r(n);var o=t(73705),l=t(98922),r=t(61374),a=t(1582),i=t(2784),s=["isExpanded"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,o,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r=[],a=!0,i=!1;try{for(l=l.call(e);!(a=(t=l.next()).done)&&(r.push(t.value),!n||r.length!==n);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}}(e,n)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var m=[{endpointId:"0d4523d9-ceed-4a9a-b3d0-056814ee8811",endpointHostname:"endpoint-1",endpointIPs:["fe80::c5a0:6dd9:1002:5760","10.1.136.130"],endpointMAC:"00:50:56:9c:3c:5a",eventId:1,eventSourceType:1,firstSeen:"2023-06-07T02:31:48Z",lastSeen:"2023-06-07T02:31:48Z",objectFirstSeen:"2023-06-07T02:27:34Z",objectLastSeen:"2023-06-07T02:32:04Z",objectIPs:["192.8.82.3","199.7.83.46","192.113.5.32"],osDescription:"Windows 10 Enterprise (64-bit) build 19044",osType:"0x00000007",osVer:"10.0.19044",processCmd:"C:\\Windows\\System32\\svchost.exe -k NetworkService -p -s NlaSvc",processFileCreation:"2023-06-05T10:07:28Z",processFileHashMD5:"b7f884c1b74a263f746ee12a5f7c9f6a",processFileHashSHA1:"1bc5066ddf693fc034d6514618854e26a84fd0d1",processFileHashSHA256:"add683a6910abbbf0e28b557fad0ba998166394932ae2aca069d9aa19ea8fe88",processFileModifiedTime:"2023-06-05T10:07:28Z",processFileSize:55320,processLaunchTime:"2023-06-06T09:42:15Z",processName:"C:\\Windows\\System32\\svchost.exe",processId:1408,processSigner:"Microsoft Windows Publisher",processSignerValid:!0,processUser:"NETWORK SERVICE",processUserDomain:"NT AUTHORITY",productCode:"dummy",productVersion:"x.y.z",sessionId:0,timezone:"Pacific Standard Time"}],p=(0,i.forwardRef)(function(e,n){var t=e.isExpanded,o=function(e,n){if(null==e)return{};var t,o,l=function(e,n){if(null==e)return{};var t,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,s),r=t?Math.floor(93.1):133,u=a.transitionEasing.easeOut,d=t?(0,a.getEnterTransitionProps)({timeout:r,easing:u}):(0,a.getExitTransitionProps)({timeout:r,easing:u}),m={transform:t?"rotate(90deg)":"rotate(0deg)",transition:(0,a.createTransitionStyle)("transform",d)};return i.createElement(l.ButtonBase,o,i.createElement(l.Icon,c({icon:"angle-right",size:"4x"},m)))});p.displayName="TableRowToggleIcon",n.default=function(){var e=u((0,l.useColorMode)(),1)[0],n=u((0,l.useColorStyle)({colorMode:e}),1)[0],t=(0,i.useMemo)(function(){return[{id:"toggle-expanded",header:function(){return null},cell:function(e){var n=e.row,t=n.getCanExpand(),o=n.getIsExpanded();return t?i.createElement(p,{isExpanded:o,onClick:n.getToggleExpandedHandler()}):null},size:48},{header:"Logged",accessorKey:"firstSeen",size:180,cell:function(e){var n,t=e.row;return i.createElement(l.Truncate,null,null===(n=t.original)||void 0===n?void 0:n.firstSeen)}},{id:"details",cell:function(e){var t=Object.entries(e.row.original);return i.createElement(l.Truncate,{as:"pre",fontFamily:"mono",m:0,sx:{"--truncate-line-clamp":3,wordBreak:"break-all",whiteSpace:"normal",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--truncate-line-clamp)"}},t.map(function(e,o){var r=u(e,2),a=r[0],s=r[1];return i.createElement(l.Box,{key:a,display:"inline"},a,": ",i.createElement(l.Text,{display:"inline",color:n.color.tertiary},Array.isArray(s)?s.join(","):s),o<t.length-1&&i.createElement(l.Divider,{display:"inline",orientation:"vertical",mx:"2x"}))}))},size:"auto"}]},[e,n]),a=(0,i.useMemo)(function(){return{defaultColumn:{minSize:48},getExpandedRowModel:(0,o.rV)(),getRowCanExpand:function(){return!0}}},[]),s=(0,i.useRef)(null);return(0,i.useEffect)(function(){s.current&&s.current.toggleAllRowsExpanded(!0)},[]),i.createElement(r.Z,{layout:"flexbox",variant:"default",columns:t,data:m,tableOptions:a,tableRef:s})}},40899:function(e,n,t){"use strict";t.r(n);var o,l,r=t(98922),a=t(92525),i=t(45163),s=t(2784);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,o,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r=[],a=!0,i=!1;try{for(l=l.call(e);!(a=(t=l.next()).done)&&(r.push(t.value),!n||r.length!==n);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}}(e,n)||d(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){if(e){if("string"==typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}var p=(o=[{id:"all",label:"All"}].concat(u(Array.from({length:10},function(e,n){return{id:String(n+1),label:"Option ".concat(n+1)}}))),l=new Map,o.forEach(function(e){var n=String(e.id);l.set(n,e)}),l),f=u(p.keys()),h=u(f.slice(0,4)),x=u(f.slice(1)),b=function(e){var n=p.get(e);return null==n?void 0:n.label},g=function(e){var n=b(e);return s.createElement(s.Fragment,null,s.createElement(r.TextLabel,{mr:"2x"},"Label:"),s.createElement(r.OverflowTooltip,{label:n},n))},v=function(e){var n=p.get(e);return null==n?void 0:n.label},w=function(e){var n=e.length,t=n===x.length;if(0===n){var o="Select";return s.createElement(s.Fragment,null,s.createElement(r.TextLabel,{mr:"2x"},"Label:"),s.createElement(r.OverflowTooltip,{label:o},o))}if(t)return s.createElement(s.Fragment,null,s.createElement(r.TextLabel,{mr:"2x"},"Label:"),s.createElement(r.OverflowTooltip,{label:"All"},"All"));var l=e.map(v).join(", ");return s.createElement(s.Fragment,null,s.createElement(r.TextLabel,{mr:"2x"},"Label:"),s.createElement(r.OverflowTooltip,{label:l},l),s.createElement(r.Text,{ml:"1x"},"(".concat(n,")")))};n.default=function(){var e=c((0,s.useState)(h[0]),2),n=e[0],t=e[1],o=c((0,s.useState)(x),2),l=o[0],u=o[1],d=c((0,s.useState)(""),2),m=d[0],p=d[1],f=c((0,s.useState)(0),1)[0],y=(0,s.useCallback)(function(){t(h[0]),u(x),p("")},[]);return s.createElement(r.Flex,{alignItems:"flex-start",justifyContent:"space-between",columnGap:"10x"},s.createElement(r.Flex,{flexWrap:"wrap",alignItems:"center",columnGap:"2x",rowGap:"3x"},s.createElement(r.Button,{variant:"primary"},"Primary Action"),s.createElement(r.Divider,{orientation:"vertical"}),s.createElement(a.Z,{value:n,onChange:t,items:h,renderItem:b,renderLabel:g}),s.createElement(i.Z,{isSearchable:!0,value:l,onChange:u,items:x,renderItem:v,renderLabel:w,width:240}),s.createElement(r.SearchInput,{placeholder:"Search",onChange:function(e){p(e.target.value)},onClearInput:function(){p("")},value:m}),s.createElement(r.LinkButton,{columnGap:"1x",mr:"3x",onClick:function(){return y()}},s.createElement(r.Icon,{icon:"close-s"})," ",s.createElement(r.Text,null,"Reset")),s.createElement(r.Flex,{columnGap:"1x"},s.createElement(r.TextLabel,null,"Matched results:"),f)),s.createElement(r.Flex,{flexWrap:"nowrap",alignItems:"center",columnGap:"2x",rowGap:"3x"},s.createElement(r.Tooltip,{label:"Export"},s.createElement(r.Button,{variant:"ghost"},s.createElement(r.Icon,{icon:"export"}))),s.createElement(r.Tooltip,{label:"Refresh"},s.createElement(r.Button,{variant:"ghost"},s.createElement(r.Icon,{icon:"refresh"})))))}},18502:function(e,n,t){"use strict";t.r(n);var o=t(52322),l=t(45392),r=t(58775),a=t(44508),i=t(40899),s=t(6638),c=t(98922);function u(e){var n=Object.assign({div:"div",h1:"h1",h2:"h2",a:"a",svg:"svg",use:"use",p:"p",ul:"ul",li:"li",h3:"h3"},(0,l.ah)(),e.components);return(0,o.jsxs)(n.div,{className:"main-content",id:"main-content",children:["\n","\n","\n","\n","\n",(0,o.jsx)(n.h1,{id:"table-display",children:"Table Display"}),"\n",(0,o.jsxs)(n.h2,{id:"overview",children:["Overview",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#overview",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"Table display is used for presenting data in a structured manner and typically consists of three main parts:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Toolbar"}),"\n",(0,o.jsx)(n.li,{children:"Data"}),"\n",(0,o.jsx)(n.li,{children:"Footer"}),"\n"]}),"\n",(0,o.jsx)(r.Z,{meta:{dependencies:{"@tonic-ui/react":"^1.20.4",react:"latest","@tanstack/react-table":"^8.9.1","@tonic-ui/utils":"latest","react-virtualized-auto-sizer":"^1.0.15","ensure-type":"^1.5.1","react-highlight-words":"^0.20.0"},files:{"components/BaseTable.js":"import {\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport {\n  Box,\n  Collapse,\n  Flex,\n  Grid,\n  Table,\n  TableHeader,\n  TableHeaderRow,\n  TableHeaderCell,\n  TableBody,\n  TableRow,\n  TableCell,\n  Text,\n  TextLabel,\n  useColorMode,\n  useTheme,\n} from '@tonic-ui/react';\nimport { dataAttr } from '@tonic-ui/utils';\nimport React, { Fragment, forwardRef, useEffect, useState } from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\n/**\n * Assign a value to a ref function or object.\n *\n * @param ref the ref to assign to\n * @param value the value\n */\nconst assignRef = (ref, value) => {\n  if (ref === null || ref === undefined) {\n    return;\n  }\n\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n\n  try {\n    ref.current = value;\n  } catch (error) {\n    throw new Error(`Cannot assign value '${value}' to ref '${ref}'`);\n  }\n};\n\n/**\n * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\n *\n * @param {String} text The text to be rendered.\n * @param {String} font The css font descriptor that text is to be rendered with (e.g. \"bold 14px verdana\").\n *\n * @see https://stackoverflow.com/questions/118241/calculate-text-width-with-javascript/21015393#21015393\n */\nconst getTextWidth = (text, font) => {\n  // re-use canvas object for better performance\n  const canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement('canvas'));\n  const context = canvas.getContext('2d');\n  context.font = font;\n  const metrics = context.measureText(text);\n  return metrics.width || 0;\n};\n\nconst BaseTable = forwardRef((\n  {\n    columns,\n    data,\n    layout = 'flexbox', // One of: 'flexbox', 'table'\n    variant = 'default', // One of: 'default', 'outline'\n\n    // TanStack Table\n    tableOptions,\n    tableRef,\n\n    ...rest\n  },\n  ref,\n) => {\n  const [colorMode] = useColorMode();\n  const theme = useTheme();\n  const hoverBackgroundColor = {\n    dark: 'rgba(255, 255, 255, 0.12)',\n    light: 'rgba(0, 0, 0, 0.12)',\n  }[colorMode];\n  const selectedBackgroundColor = {\n    dark: 'rgba(255, 255, 255, 0.08)',\n    light: 'rgba(0, 0, 0, 0.08)',\n  }[colorMode];\n  const renderExpandedRow = ({ row }) => {\n    const tableBorderColor = {\n      dark: 'gray:70',\n      light: 'gray:30',\n    }[colorMode];\n    const dividerColor = {\n      dark: 'gray:60',\n      light: 'gray:30',\n    }[colorMode];\n    const entries = Object.entries(row.original);\n    const renderValue = (value) => {\n      if (Array.isArray(value)) {\n        return value.map(item => <Text key={item}>{item}</Text>);\n      }\n\n      if (typeof value === 'boolean') {\n        return value.toString();\n      }\n\n      return value;\n    };\n\n    return (\n      <Flex\n        borderBottom={1}\n        borderBottomColor={tableBorderColor}\n      >\n        <Box width=\"12x\" borderRight={2} borderRightColor={dividerColor} />\n        <Box as=\"pre\" fontFamily=\"mono\" m={0} px=\"3x\" py=\"2x\">\n          <Grid\n            templateColumns=\"auto auto\"\n            columnGap=\"10x\"\n            rowGap=\"1x\"\n          >\n            {entries.map(([key, value]) => {\n              return (\n                <Fragment key={key}>\n                  <TextLabel>\n                    {key}\n                  </TextLabel>\n                  <Text>\n                    {renderValue(value)}\n                  </Text>\n                </Fragment>\n              );\n            })}\n          </Grid>\n        </Box>\n      </Flex>\n    );\n  };\n\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    ...tableOptions,\n  });\n\n  if (tableRef) {\n    assignRef(tableRef, table);\n  }\n\n  const [tableWidth, setTableWidth] = useState(0);\n\n  useEffect(() => {\n    if (!tableWidth) {\n      return;\n    }\n\n    const gutterWidth = 12 + 12; // 12px padding on each side of the cell\n    const tableHeaderCellFont = [\n      theme.fontWeights.semibold,\n      theme.fontSizes.sm,\n      theme.fonts.base,\n    ].join(' '); // => '600 14px \"Segoe UI\",-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",Helvetica,Arial,sans-serif'\n\n    // Fixed columns are columns with a fixed size (e.g. 100 or '10%')\n    const fixedColumns = table.getAllColumns()\n      .filter(column => column.columnDef.size !== 'auto')\n      .map(column => {\n        const { id, columnDef } = column;\n        const { minSize, size } = columnDef;\n\n        // If the column size is a number, return the original size value\n        if (typeof size === 'number') {\n          return {\n            id,\n            size,\n          };\n        }\n\n        // If the column size is a percentage, return the computed size value\n        if (typeof size === 'string' && size.endsWith('%')) {\n          const textWidth = (typeof columnDef.header === 'string')\n            ? getTextWidth(columnDef.header, tableHeaderCellFont)\n            : 0;\n          const percentageWidth = tableWidth * parseFloat(size) / 100;\n\n          return {\n            id,\n            size: Math.max(\n              percentageWidth, // percentage of table width\n              textWidth + gutterWidth, // text width with padding\n              minSize, // minimum size (e.g. 40px)\n            ),\n          };\n        }\n\n        // Otherwise, return the minimum size value\n        return {\n          id,\n          size: minSize,\n        };\n      });\n\n    // Flexible columns are columns with a flexible size (e.g. 'auto')\n    const flexColumns = table.getAllColumns()\n      .filter(column => column.columnDef.size === 'auto')\n      .map(column => {\n        const { id, columnDef } = column;\n        const { minSize } = columnDef;\n        const textWidth = (typeof columnDef.header === 'string')\n          ? getTextWidth(columnDef.header, tableHeaderCellFont)\n          : 0;\n\n        return {\n          id,\n          size: Math.max(\n            textWidth + gutterWidth, // text width with padding\n            minSize, // minimum size (e.g. 40px)\n          ),\n        };\n      });\n\n    const totalFixedColumnSize = fixedColumns.reduce((acc, column) => acc + column.size, 0);\n    const totalFlexColumnSize = flexColumns.reduce((acc, column) => acc + column.size, 0);\n\n    let extraSpaceLeft = tableWidth - totalFixedColumnSize;\n\n    // Distribute extra space to fixed columns if flex columns are not present\n    if ((flexColumns.length === 0) && (extraSpaceLeft > 0)) {\n      const extraSpacePerColumn = extraSpaceLeft / fixedColumns.length;\n      fixedColumns.forEach(column => {\n        column.size += extraSpacePerColumn;\n      });\n      extraSpaceLeft = 0;\n    }\n\n    // Distribute extra space to flex columns if flex columns are present\n    if ((flexColumns.length > 0) && (extraSpaceLeft > totalFlexColumnSize)) {\n      /**\n       * Assume that the extra space is 500px and the total flex column size is 400px:\n       * > extraSpaceLeft = 500\n       * > flexColumns = [ { size: 250 }, { size: 150 } ] // => Total size: 400px\n       *\n       * Iteration #0:\n       * > column.size = Math.max(500 / (2 - 0), 250) = Math.max(250, 250) = 250\n       * > extraSpaceLeft = 500 - 250 = 250\n       *\n       * Iteration #1:\n       * > column.size = Math.max(250 / (2 - 1), 150) = Math.max(250, 150) = 250\n       * > extraSpaceLeft = 250 - 250 = 0\n       */\n      flexColumns.forEach((column, index) => {\n        column.size = Math.max(\n          extraSpaceLeft / (flexColumns.length - index),\n          column.size,\n        );\n        extraSpaceLeft -= column.size;\n      });\n    }\n\n    const columnSizing = {};\n\n    for (let i = 0; i < fixedColumns.length; i++) {\n      const column = fixedColumns[i];\n      columnSizing[column.id] = column.size;\n    }\n    for (let i = 0; i < flexColumns.length; i++) {\n      const column = flexColumns[i];\n      columnSizing[column.id] = column.size;\n    }\n\n    table.setColumnSizing(columnSizing);\n  }, [columns, table, tableWidth, theme]);\n\n  return (\n    <Flex\n      ref={ref}\n      {...rest}\n    >\n      <AutoSizer\n        disableHeight\n        onResize={({ width }) => {\n          if (tableWidth !== width) {\n            setTableWidth(width);\n          }\n        }}\n      >\n        {({ width }) => (\n          <Table\n            layout={layout}\n            variant={variant}\n            width={width}\n          >\n            <TableHeader>\n              {table.getHeaderGroups().map(headerGroup => (\n                <TableHeaderRow key={headerGroup.id}>\n                  {headerGroup.headers.map(header => {\n                    const styleProps = {\n                      minWidth: header.column.columnDef.minSize,\n                      width: header.getSize(),\n                      ...header.column.columnDef.style,\n                    };\n                    return (\n                      <TableHeaderCell\n                        key={header.id}\n                        {...styleProps}\n                      >\n                        {header.isPlaceholder\n                          ? null\n                          : flexRender(header.column.columnDef.header, header.getContext())\n                        }\n                      </TableHeaderCell>\n                    );\n                  })}\n                </TableHeaderRow>\n              ))}\n            </TableHeader>\n            <TableBody>\n              {table.getRowModel().rows.map(row => (\n                <Fragment key={row.id}>\n                  <TableRow\n                    data-selected={dataAttr(row.getIsSelected())}\n                    _hover={{\n                      backgroundColor: hoverBackgroundColor,\n                    }}\n                    _selected={{\n                      backgroundColor: selectedBackgroundColor,\n                    }}\n                  >\n                    {row.getVisibleCells().map(cell => {\n                      const styleProps = {\n                        minWidth: cell.column.columnDef.minSize,\n                        width: cell.column.getSize(),\n                        ...cell.column.columnDef.style,\n                      };\n                      return (\n                        <TableCell\n                          key={cell.id}\n                          {...styleProps}\n                        >\n                          {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                        </TableCell>\n                      );\n                    })}\n                  </TableRow>\n                  {(row.getCanExpand() && layout === 'flexbox') && (\n                    <Collapse in={row.getIsExpanded()}>\n                      {renderExpandedRow({ row })}\n                    </Collapse>\n                  )}\n                  {(row.getCanExpand() && layout === 'table') && (\n                    <TableRow>\n                      <TableCell\n                        padding={0}\n                        borderBottom={0}\n                        colSpan={row.getVisibleCells().length}\n                      >\n                        <Collapse in={row.getIsExpanded()}>\n                          {renderExpandedRow({ row })}\n                        </Collapse>\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </Fragment>\n              ))}\n            </TableBody>\n          </Table>\n        )}\n      </AutoSizer>\n    </Flex>\n  );\n});\n\nBaseTable.displayName = 'BaseTable';\n\nexport default BaseTable;","components/Dropdown.js":"import {\n  Flex,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n} from '@tonic-ui/react';\nimport { noop } from '@tonic-ui/utils';\nimport { ensureFunction } from 'ensure-type';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nconst Dropdown = ({\n  items = [],\n  onChange: onChangeProp,\n  renderItem = noop,\n  renderLabel = noop,\n  value: valueProp,\n  variant = 'secondary',\n  width = 200,\n}) => {\n  const [value, setValue] = useState(valueProp ?? '');\n\n  useEffect(() => {\n    const isControlled = valueProp !== undefined;\n    if (isControlled) {\n      setValue(valueProp);\n    }\n  }, [valueProp]);\n\n  const onChange = useCallback(\n    (nextValue) => {\n      const isControlled = valueProp !== undefined;\n      if (!isControlled) {\n        setValue(nextValue);\n      }\n      ensureFunction(onChangeProp)(nextValue);\n    },\n    [onChangeProp, valueProp]\n  );\n\n  const handleClickMenuItemBy = (value) => (event) => {\n    onChange(value);\n  };\n\n  const maxWidth = typeof width === 'number'\n    ? `calc(${width}px - 48px)`\n    : `calc(${width} - 48px)`;\n\n  return (\n    <Menu>\n      <MenuButton\n        variant={variant}\n        width={width}\n      >\n        <Flex\n          maxWidth={maxWidth}\n        >\n          {renderLabel(value)}\n        </Flex>\n      </MenuButton>\n      <MenuList\n        width=\"100%\"\n      >\n        {items.map((x) => (\n          <MenuItem\n            key={x}\n            onClick={handleClickMenuItemBy(x)}\n          >\n            {renderItem(x)}\n          </MenuItem>\n        ))}\n      </MenuList>\n    </Menu>\n  );\n};\n\nexport default Dropdown;","components/Multiselect.js":"import {\n  Box,\n  Checkbox,\n  CheckboxGroup,\n  Flex,\n  LinkButton,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  Scrollbar,\n  SearchInput,\n  useColorMode,\n  useColorStyle,\n  useTheme,\n} from '@tonic-ui/react';\nimport { noop } from '@tonic-ui/utils';\nimport { ensureArray, ensureFunction, ensureString } from 'ensure-type';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport Highlight from 'react-highlight-words';\n\nconst Multiselect = ({\n  isSearchable = false,\n  items = [],\n  onChange: onChangeProp,\n  renderItem = noop,\n  renderLabel = noop,\n  value: valueProp,\n  variant = 'secondary',\n  width = 200,\n}) => {\n  const searchInputRef = useRef();\n  const [colorMode] = useColorMode();\n  const [colorStyle] = useColorStyle({ colorMode });\n  const { colors } = useTheme();\n  const [value, setValue] = useState(ensureArray(valueProp));\n  const [searchString, setSearchString] = useState('');\n\n  useEffect(() => {\n    const isControlled = valueProp !== undefined;\n    if (isControlled) {\n      setValue(ensureArray(valueProp));\n    }\n  }, [valueProp]);\n\n  const onCheckboxGroupChange = useCallback((nextValue) => {\n    setValue(nextValue);\n  }, []);\n\n  const isAllSelected = value.length === items.length;\n  const isNoneSelected = value.length === 0;\n  const handleClickToggle = (event) => {\n    const nextValue = isAllSelected ? [] : items;\n    setValue(nextValue);\n  };\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      const el = event.currentTarget.querySelector('input');\n      if (el) {\n        const nextValue = [...value];\n        nextValue.indexOf(el.value) === -1\n          ? nextValue.push(el.value) // add\n          : nextValue.splice(nextValue.indexOf(el.value), 1); // remove\n        setValue(nextValue);\n      }\n    }\n  }\n\n  const normalizedSearchString = ensureString(searchString).trim().toLowerCase();\n  const filteredItems = items.filter(item => {\n    if (!normalizedSearchString) {\n      return true;\n    }\n    const normalizedItemString = renderItem(item).trim().toLowerCase();\n    return normalizedItemString.includes(normalizedSearchString);\n  });\n\n  const maxWidth = typeof width === 'number'\n    ? `calc(${width}px - 48px)`\n    : `calc(${width} - 48px)`;\n\n  return (\n    <Menu\n      closeOnSelect={false}\n      defaultActiveIndex={0}\n      onClose={() => {\n        if (isNoneSelected) {\n          // Automatically reset all the options when the menu loses focus\n          setValue(items);\n          ensureFunction(onChangeProp)(items);\n        } else {\n          ensureFunction(onChangeProp)(value);\n        }\n      }}\n    >\n      <MenuButton\n        variant={variant}\n        width={width}\n      >\n        <Flex\n          maxWidth={maxWidth}\n        >\n          {renderLabel(value)}\n        </Flex>\n      </MenuButton>\n      <MenuList\n        width=\"100%\"\n      >\n        {isSearchable && (\n          <Box\n            px=\"3x\"\n            mb=\"2x\"\n          >\n            <SearchInput\n              inputProps={{\n                role: 'menuitem', // Specify \"menuitem\" role for keyboard navigation\n                onKeyDown: (event) => {\n                  const input = event.target;\n                  const {\n                    selectionStart, // the position where the character will be inserted\n                    selectionEnd, // if has a selection this value will be different than the previous\n                    value, // this is the value before the key is added\n                  } = input;\n                  const isAtStart = (selectionStart === 0 && selectionEnd === 0);\n                  const isAtEnd = (selectionStart === value.length && selectionEnd === value.length);\n\n                  if (isAtStart && ['ArrowUp', 'Home'].includes(event.key)) {\n                    return;\n                  }\n                  if (isAtEnd && ['ArrowDown', 'End'].includes(event.key)) {\n                    return;\n                  }\n\n                  // Stop event propagation to menu for specific keys\n                  event.stopPropagation();\n                },\n              }}\n              ref={searchInputRef}\n              value={searchString}\n              onClearInput={(event) => {\n                setSearchString('');\n              }}\n              onChange={(event) => {\n                const value = event.target.value;\n                setSearchString(value);\n              }}\n            />\n          </Box>\n        )}\n        <CheckboxGroup\n          size=\"sm\"\n          value={value}\n          onChange={onCheckboxGroupChange}\n        >\n          {!normalizedSearchString && (\n            <Box\n              px=\"3x\"\n              mb=\"2x\"\n            >\n              <LinkButton\n                key=\"toggle\"\n                onClick={handleClickToggle}\n              >\n                {isAllSelected ? ('Clear all') : ('Select all')}\n              </LinkButton>\n            </Box>\n          )}\n          <Scrollbar\n            maxHeight={250}\n            overflowY=\"auto\"\n          >\n            {filteredItems.map((x) => (\n              <MenuItem\n                key={x}\n                onKeyDown={handleKeyDown}\n              >\n                <Checkbox\n                  value={x}\n                  width=\"100%\" // Fill the entire width of the menu item to make it easier to click\n                >\n                  <Highlight\n                    searchWords={[normalizedSearchString]}\n                    textToHighlight={renderItem(x)}\n                    highlightStyle={{\n                      backgroundColor: colors[colorStyle.text.highlight],\n                      color: colors['gray:100'],\n                    }}\n                  />\n                </Checkbox>\n              </MenuItem>\n            ))}\n          </Scrollbar>\n        </CheckboxGroup>\n      </MenuList>\n    </Menu>\n  );\n};\n\nexport default Multiselect;"},raw:"import {\n  Box,\n  Button,\n  Checkbox,\n  Divider,\n  Flex,\n  Icon,\n  LinkButton,\n  OverflowTooltip,\n  SearchInput,\n  Text,\n  TextLabel,\n  Tooltip,\n  Truncate,\n} from '@tonic-ui/react';\nimport BaseTable from './components/BaseTable';\nimport Dropdown from './components/Dropdown';\nimport Multiselect from './components/Multiselect';\nimport React, { forwardRef, useCallback, useMemo, useRef, useState } from 'react';\n\nconst data = [\n  { id: 1, eventType: 'Virus/Malware', affectedDevices: 20, detections: 634 },\n  { id: 2, eventType: 'Spyware/Grayware', affectedDevices: 20, detections: 634 },\n  { id: 3, eventType: 'URL Filtering', affectedDevices: 15, detections: 598 },\n  { id: 4, eventType: 'Web Reputation', affectedDevices: 15, detections: 598 },\n  { id: 5, eventType: 'Network Virus', affectedDevices: 15, detections: 497 },\n  { id: 6, eventType: 'Application Control', affectedDevices: 0, detections: 0 }\n];\n\nconst App = () => {\n  const layout = 'flexbox'; // One of: 'flexbox', 'table'\n  const variant = 'default'; // One of: 'default', 'outline'\n  const columns = useMemo(() => [\n    {\n      id: 'selection',\n      header: ({ table }) => (\n        <Checkbox\n          checked={table.getIsAllRowsSelected()}\n          indeterminate={table.getIsSomeRowsSelected()}\n          onChange={table.getToggleAllRowsSelectedHandler()}\n        />\n      ),\n      cell: ({ row }) => (\n        <Checkbox\n          checked={row.getIsSelected()}\n          disabled={!row.getCanSelect()}\n          indeterminate={row.getIsSomeSelected()}\n          onChange={row.getToggleSelectedHandler()}\n        />\n      ),\n      size: 48,\n    },\n    {\n      accessorKey: 'eventType',\n      header: 'Event Type',\n      cell: ({ getValue }) => (\n        <Truncate>{getValue()}</Truncate>\n      ),\n      size: 'auto',\n    },\n    {\n      accessorKey: 'affectedDevices',\n      header: 'Affected Devices',\n      size: 150,\n      style: {\n        textAlign: 'right',\n      },\n    },\n    {\n      accessorKey: 'detections',\n      header: 'Detections',\n      size: 150,\n      style: {\n        textAlign: 'right',\n      },\n    },\n  ], []);\n  const [rowSelection, setRowSelection] = useState({});\n  const tableOptions = useMemo(() => ({\n    defaultColumn: {\n      minSize: 48,\n    },\n    state: {\n      rowSelection,\n    },\n    enableRowSelection: true, // enable row selection for all rows\n    //enableRowSelection: row => row.original.detections > 0, // or enable row selection conditionally per row\n    onRowSelectionChange: setRowSelection,\n  }), [rowSelection]);\n  const tableRef = useRef();\n\n  return (\n    <>\n      <Box mb=\"2x\">\n        <Toolbar />\n      </Box>\n      <Box minHeight={500}>\n        <BaseTable\n          layout={layout}\n          variant={variant}\n          columns={columns}\n          data={data}\n          tableOptions={tableOptions}\n          tableRef={tableRef}\n        />\n      </Box>\n    </>\n  );\n};\n\nconst filterMap = (() => {\n  const filterData = [\n    { id: 'all', label: 'All' },\n    ...Array.from({ length: 10 }, (_, i) => ({\n      id: String(i + 1),\n      label: `Option ${i + 1}`,\n    })),\n  ];\n\n  const map = new Map();\n  filterData.forEach((filter) => {\n    // Use the policy ID as the key and ensure it's a string rather than a number\n    const key = String(filter.id);\n    map.set(key, filter);\n  });\n  return map;\n})();\n\nconst filterItems = [...filterMap.keys()];\n\nconst dropdownItems = [\n  ...filterItems.slice(0, 4),\n];\n\nconst multiselectItems = [\n  ...filterItems.slice(1),\n];\n\nconst renderDropdownItem = (value) => {\n  const filter = filterMap.get(value);\n  return filter?.label;\n};\n\nconst renderDropdownLabel = (value) => {\n  const selectionText = renderDropdownItem(value);\n  return (\n    <>\n      <TextLabel mr=\"2x\">\n        {'Label:'}\n      </TextLabel>\n      <OverflowTooltip label={selectionText}>\n        {selectionText}\n      </OverflowTooltip>\n    </>\n  );\n};\n\nconst renderMultiselectItem = (value) => {\n  const filter = filterMap.get(value);\n  return filter?.label;\n};\n\nconst renderMultiselectLabel = (value) => {\n  const selectionCount = value.length;\n  const isNoneSelected = selectionCount === 0;\n  const isAllSelected = selectionCount === multiselectItems.length;\n\n  if (isNoneSelected) {\n    const selectionText = 'Select';\n    return (\n      <>\n        <TextLabel mr=\"2x\">\n          {'Label:'}\n        </TextLabel>\n        <OverflowTooltip label={selectionText}>\n          {selectionText}\n        </OverflowTooltip>\n      </>\n    );\n  }\n\n  if (isAllSelected) {\n    const selectionText = 'All'; \n    return (\n      <>\n        <TextLabel mr=\"2x\">\n          {'Label:'}\n        </TextLabel>\n        <OverflowTooltip label={selectionText}>\n          {selectionText}\n        </OverflowTooltip>\n      </>\n    );\n  }\n\n  const selectionText = value.map(renderMultiselectItem).join(', ');\n  return (\n    <>\n      <TextLabel mr=\"2x\">\n        {'Label:'}\n      </TextLabel>\n      <OverflowTooltip label={selectionText}>\n        {selectionText}\n      </OverflowTooltip>\n      <Text ml=\"1x\">\n        {`(${selectionCount})`}\n      </Text>\n    </>\n  );\n};\n\nconst Toolbar = forwardRef((props, ref) => {\n  const [dropdownValue, setDropdownValue] = useState(dropdownItems[0]);\n  const [multiselectValue, setMultiselectValue] = useState(multiselectItems);\n  const [searchInputValue, setSearchInputValue] = useState('');\n  const [matchedResults] = useState(0);\n\n  const reset = useCallback(() => {\n    setDropdownValue(dropdownItems[0]);\n    setMultiselectValue(multiselectItems);\n    setSearchInputValue('');\n  }, []);\n\n  return (\n    <Flex\n      ref={ref}\n      alignItems=\"flex-start\"\n      justifyContent=\"space-between\"\n      columnGap=\"10x\"\n      {...props}\n    >\n      <Flex\n        flexWrap=\"wrap\"\n        alignItems=\"center\"\n        columnGap=\"2x\"\n        rowGap=\"3x\"\n      >\n        <Button variant=\"primary\">\n          Primary Action\n        </Button>\n        <Divider orientation=\"vertical\" />\n        <Dropdown\n          value={dropdownValue}\n          onChange={setDropdownValue}\n          items={dropdownItems}\n          renderItem={renderDropdownItem}\n          renderLabel={renderDropdownLabel}\n        />\n        <Multiselect\n          isSearchable={true}\n          value={multiselectValue}\n          onChange={setMultiselectValue}\n          items={multiselectItems}\n          renderItem={renderMultiselectItem}\n          renderLabel={renderMultiselectLabel}\n          width={240}\n        />\n        <SearchInput\n          placeholder=\"Search\"\n          onChange={(event) => {\n            const { value } = event.target;\n            setSearchInputValue(value);\n          }}\n          onClearInput={() => {\n            setSearchInputValue('');\n          }}\n          value={searchInputValue}\n        />\n        <LinkButton\n          columnGap=\"1x\"\n          mr=\"3x\"\n          onClick={() => reset()}\n        >\n          <Icon icon=\"close-s\" /> <Text>Reset</Text>\n        </LinkButton>\n        <Flex columnGap=\"1x\">\n          <TextLabel>\n            Matched results:\n          </TextLabel>\n          {matchedResults}\n        </Flex>\n      </Flex>\n      <Flex\n        flexWrap=\"nowrap\"\n        alignItems=\"center\"\n        columnGap=\"2x\"\n        rowGap=\"3x\"\n      >\n        <Tooltip label=\"Export\">\n          <Button variant=\"ghost\">\n            <Icon icon=\"export\" />\n          </Button>\n        </Tooltip>\n        <Tooltip label=\"Refresh\">\n          <Button variant=\"ghost\">\n            <Icon icon=\"refresh\" />\n          </Button>\n        </Tooltip>\n      </Flex>\n    </Flex>\n  );\n});\n\nToolbar.displayName = 'Toolbar';\n\nexport default App;\n"},component:s.default}),"\n",(0,o.jsxs)(n.h2,{id:"how-it-works",children:["How It Works",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#how-it-works",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsxs)(n.h3,{id:"toolbar",children:["Toolbar",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#toolbar",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"The table toolbar provides a set of actions that users can perform on the table. The available actions may vary depending on the data type. The toolbar items are displayed from left to right."}),"\n",(0,o.jsx)(n.p,{children:"The toolbar should never display a vertical scrollbar. The position and width of the right-sided toolbar are fixed."}),"\n",(0,o.jsx)(n.p,{children:"In cases where the screen width is limited, the left-sided toolbar items can wrap to another row. These items may include, but are not limited to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Primary action"}),"\n",(0,o.jsx)(n.li,{children:"Filter"}),"\n",(0,o.jsx)(n.li,{children:"Search input"}),"\n",(0,o.jsx)(n.li,{children:"Reset (optional)"}),"\n",(0,o.jsx)(n.li,{children:"Matched results (optional)"}),"\n"]}),"\n",(0,o.jsx)(r.Z,{meta:{dependencies:{"@tonic-ui/react":"^1.20.4",react:"latest","@tonic-ui/utils":"latest","ensure-type":"^1.5.1","react-highlight-words":"^0.20.0"},files:{"components/Dropdown.js":"import {\n  Flex,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n} from '@tonic-ui/react';\nimport { noop } from '@tonic-ui/utils';\nimport { ensureFunction } from 'ensure-type';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nconst Dropdown = ({\n  items = [],\n  onChange: onChangeProp,\n  renderItem = noop,\n  renderLabel = noop,\n  value: valueProp,\n  variant = 'secondary',\n  width = 200,\n}) => {\n  const [value, setValue] = useState(valueProp ?? '');\n\n  useEffect(() => {\n    const isControlled = valueProp !== undefined;\n    if (isControlled) {\n      setValue(valueProp);\n    }\n  }, [valueProp]);\n\n  const onChange = useCallback(\n    (nextValue) => {\n      const isControlled = valueProp !== undefined;\n      if (!isControlled) {\n        setValue(nextValue);\n      }\n      ensureFunction(onChangeProp)(nextValue);\n    },\n    [onChangeProp, valueProp]\n  );\n\n  const handleClickMenuItemBy = (value) => (event) => {\n    onChange(value);\n  };\n\n  const maxWidth = typeof width === 'number'\n    ? `calc(${width}px - 48px)`\n    : `calc(${width} - 48px)`;\n\n  return (\n    <Menu>\n      <MenuButton\n        variant={variant}\n        width={width}\n      >\n        <Flex\n          maxWidth={maxWidth}\n        >\n          {renderLabel(value)}\n        </Flex>\n      </MenuButton>\n      <MenuList\n        width=\"100%\"\n      >\n        {items.map((x) => (\n          <MenuItem\n            key={x}\n            onClick={handleClickMenuItemBy(x)}\n          >\n            {renderItem(x)}\n          </MenuItem>\n        ))}\n      </MenuList>\n    </Menu>\n  );\n};\n\nexport default Dropdown;","components/Multiselect.js":"import {\n  Box,\n  Checkbox,\n  CheckboxGroup,\n  Flex,\n  LinkButton,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  Scrollbar,\n  SearchInput,\n  useColorMode,\n  useColorStyle,\n  useTheme,\n} from '@tonic-ui/react';\nimport { noop } from '@tonic-ui/utils';\nimport { ensureArray, ensureFunction, ensureString } from 'ensure-type';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport Highlight from 'react-highlight-words';\n\nconst Multiselect = ({\n  isSearchable = false,\n  items = [],\n  onChange: onChangeProp,\n  renderItem = noop,\n  renderLabel = noop,\n  value: valueProp,\n  variant = 'secondary',\n  width = 200,\n}) => {\n  const searchInputRef = useRef();\n  const [colorMode] = useColorMode();\n  const [colorStyle] = useColorStyle({ colorMode });\n  const { colors } = useTheme();\n  const [value, setValue] = useState(ensureArray(valueProp));\n  const [searchString, setSearchString] = useState('');\n\n  useEffect(() => {\n    const isControlled = valueProp !== undefined;\n    if (isControlled) {\n      setValue(ensureArray(valueProp));\n    }\n  }, [valueProp]);\n\n  const onCheckboxGroupChange = useCallback((nextValue) => {\n    setValue(nextValue);\n  }, []);\n\n  const isAllSelected = value.length === items.length;\n  const isNoneSelected = value.length === 0;\n  const handleClickToggle = (event) => {\n    const nextValue = isAllSelected ? [] : items;\n    setValue(nextValue);\n  };\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      const el = event.currentTarget.querySelector('input');\n      if (el) {\n        const nextValue = [...value];\n        nextValue.indexOf(el.value) === -1\n          ? nextValue.push(el.value) // add\n          : nextValue.splice(nextValue.indexOf(el.value), 1); // remove\n        setValue(nextValue);\n      }\n    }\n  }\n\n  const normalizedSearchString = ensureString(searchString).trim().toLowerCase();\n  const filteredItems = items.filter(item => {\n    if (!normalizedSearchString) {\n      return true;\n    }\n    const normalizedItemString = renderItem(item).trim().toLowerCase();\n    return normalizedItemString.includes(normalizedSearchString);\n  });\n\n  const maxWidth = typeof width === 'number'\n    ? `calc(${width}px - 48px)`\n    : `calc(${width} - 48px)`;\n\n  return (\n    <Menu\n      closeOnSelect={false}\n      defaultActiveIndex={0}\n      onClose={() => {\n        if (isNoneSelected) {\n          // Automatically reset all the options when the menu loses focus\n          setValue(items);\n          ensureFunction(onChangeProp)(items);\n        } else {\n          ensureFunction(onChangeProp)(value);\n        }\n      }}\n    >\n      <MenuButton\n        variant={variant}\n        width={width}\n      >\n        <Flex\n          maxWidth={maxWidth}\n        >\n          {renderLabel(value)}\n        </Flex>\n      </MenuButton>\n      <MenuList\n        width=\"100%\"\n      >\n        {isSearchable && (\n          <Box\n            px=\"3x\"\n            mb=\"2x\"\n          >\n            <SearchInput\n              inputProps={{\n                role: 'menuitem', // Specify \"menuitem\" role for keyboard navigation\n                onKeyDown: (event) => {\n                  const input = event.target;\n                  const {\n                    selectionStart, // the position where the character will be inserted\n                    selectionEnd, // if has a selection this value will be different than the previous\n                    value, // this is the value before the key is added\n                  } = input;\n                  const isAtStart = (selectionStart === 0 && selectionEnd === 0);\n                  const isAtEnd = (selectionStart === value.length && selectionEnd === value.length);\n\n                  if (isAtStart && ['ArrowUp', 'Home'].includes(event.key)) {\n                    return;\n                  }\n                  if (isAtEnd && ['ArrowDown', 'End'].includes(event.key)) {\n                    return;\n                  }\n\n                  // Stop event propagation to menu for specific keys\n                  event.stopPropagation();\n                },\n              }}\n              ref={searchInputRef}\n              value={searchString}\n              onClearInput={(event) => {\n                setSearchString('');\n              }}\n              onChange={(event) => {\n                const value = event.target.value;\n                setSearchString(value);\n              }}\n            />\n          </Box>\n        )}\n        <CheckboxGroup\n          size=\"sm\"\n          value={value}\n          onChange={onCheckboxGroupChange}\n        >\n          {!normalizedSearchString && (\n            <Box\n              px=\"3x\"\n              mb=\"2x\"\n            >\n              <LinkButton\n                key=\"toggle\"\n                onClick={handleClickToggle}\n              >\n                {isAllSelected ? ('Clear all') : ('Select all')}\n              </LinkButton>\n            </Box>\n          )}\n          <Scrollbar\n            maxHeight={250}\n            overflowY=\"auto\"\n          >\n            {filteredItems.map((x) => (\n              <MenuItem\n                key={x}\n                onKeyDown={handleKeyDown}\n              >\n                <Checkbox\n                  value={x}\n                  width=\"100%\" // Fill the entire width of the menu item to make it easier to click\n                >\n                  <Highlight\n                    searchWords={[normalizedSearchString]}\n                    textToHighlight={renderItem(x)}\n                    highlightStyle={{\n                      backgroundColor: colors[colorStyle.text.highlight],\n                      color: colors['gray:100'],\n                    }}\n                  />\n                </Checkbox>\n              </MenuItem>\n            ))}\n          </Scrollbar>\n        </CheckboxGroup>\n      </MenuList>\n    </Menu>\n  );\n};\n\nexport default Multiselect;"},raw:'import {\n  Button,\n  Divider,\n  Flex,\n  Icon,\n  LinkButton,\n  OverflowTooltip,\n  SearchInput,\n  Text,\n  TextLabel,\n  Tooltip,\n} from \'@tonic-ui/react\';\nimport Dropdown from \'./components/Dropdown\';\nimport Multiselect from \'./components/Multiselect\';\nimport React, { useCallback, useState } from \'react\';\n\nconst filterMap = (() => {\n  const filterData = [\n    { id: \'all\', label: \'All\' },\n    ...Array.from({ length: 10 }, (_, i) => ({\n      id: String(i + 1),\n      label: `Option ${i + 1}`,\n    })),\n  ];\n\n  const map = new Map();\n  filterData.forEach((filter) => {\n    // Use the policy ID as the key and ensure it\'s a string rather than a number\n    const key = String(filter.id);\n    map.set(key, filter);\n  });\n  return map;\n})();\n\nconst filterItems = [...filterMap.keys()];\n\nconst dropdownItems = [\n  ...filterItems.slice(0, 4),\n];\n\nconst multiselectItems = [\n  ...filterItems.slice(1),\n];\n\nconst renderDropdownItem = (value) => {\n  const filter = filterMap.get(value);\n  return filter?.label;\n};\n\nconst renderDropdownLabel = (value) => {\n  const selectionText = renderDropdownItem(value);\n  return (\n    <>\n      <TextLabel mr="2x">\n        {\'Label:\'}\n      </TextLabel>\n      <OverflowTooltip label={selectionText}>\n        {selectionText}\n      </OverflowTooltip>\n    </>\n  );\n};\n\nconst renderMultiselectItem = (value) => {\n  const filter = filterMap.get(value);\n  return filter?.label;\n};\n\nconst renderMultiselectLabel = (value) => {\n  const selectionCount = value.length;\n  const isNoneSelected = selectionCount === 0;\n  const isAllSelected = selectionCount === multiselectItems.length;\n\n  if (isNoneSelected) {\n    const selectionText = \'Select\';\n    return (\n      <>\n        <TextLabel mr="2x">\n          {\'Label:\'}\n        </TextLabel>\n        <OverflowTooltip label={selectionText}>\n          {selectionText}\n        </OverflowTooltip>\n      </>\n    );\n  }\n\n  if (isAllSelected) {\n    const selectionText = \'All\'; \n    return (\n      <>\n        <TextLabel mr="2x">\n          {\'Label:\'}\n        </TextLabel>\n        <OverflowTooltip label={selectionText}>\n          {selectionText}\n        </OverflowTooltip>\n      </>\n    );\n  }\n\n  const selectionText = value.map(renderMultiselectItem).join(\', \');\n  return (\n    <>\n      <TextLabel mr="2x">\n        {\'Label:\'}\n      </TextLabel>\n      <OverflowTooltip label={selectionText}>\n        {selectionText}\n      </OverflowTooltip>\n      <Text ml="1x">\n        {`(${selectionCount})`}\n      </Text>\n    </>\n  );\n};\n\nconst App = () => {\n  const [dropdownValue, setDropdownValue] = useState(dropdownItems[0]);\n  const [multiselectValue, setMultiselectValue] = useState(multiselectItems);\n  const [searchInputValue, setSearchInputValue] = useState(\'\');\n  const [matchedResults] = useState(0);\n\n  const reset = useCallback(() => {\n    setDropdownValue(dropdownItems[0]);\n    setMultiselectValue(multiselectItems);\n    setSearchInputValue(\'\');\n  }, []);\n\n  return (\n    <Flex\n      alignItems="flex-start"\n      justifyContent="space-between"\n      columnGap="10x"\n    >\n      <Flex\n        flexWrap="wrap"\n        alignItems="center"\n        columnGap="2x"\n        rowGap="3x"\n      >\n        <Button variant="primary">\n          Primary Action\n        </Button>\n        <Divider orientation="vertical" />\n        <Dropdown\n          value={dropdownValue}\n          onChange={setDropdownValue}\n          items={dropdownItems}\n          renderItem={renderDropdownItem}\n          renderLabel={renderDropdownLabel}\n        />\n        <Multiselect\n          isSearchable={true}\n          value={multiselectValue}\n          onChange={setMultiselectValue}\n          items={multiselectItems}\n          renderItem={renderMultiselectItem}\n          renderLabel={renderMultiselectLabel}\n          width={240}\n        />\n        <SearchInput\n          placeholder="Search"\n          onChange={(event) => {\n            const { value } = event.target;\n            setSearchInputValue(value);\n          }}\n          onClearInput={() => {\n            setSearchInputValue(\'\');\n          }}\n          value={searchInputValue}\n        />\n        <LinkButton\n          columnGap="1x"\n          mr="3x"\n          onClick={() => reset()}\n        >\n          <Icon icon="close-s" /> <Text>Reset</Text>\n        </LinkButton>\n        <Flex columnGap="1x">\n          <TextLabel>\n            Matched results:\n          </TextLabel>\n          {matchedResults}\n        </Flex>\n      </Flex>\n      <Flex\n        flexWrap="nowrap"\n        alignItems="center"\n        columnGap="2x"\n        rowGap="3x"\n      >\n        <Tooltip label="Export">\n          <Button variant="ghost">\n            <Icon icon="export" />\n          </Button>\n        </Tooltip>\n        <Tooltip label="Refresh">\n          <Button variant="ghost">\n            <Icon icon="refresh" />\n          </Button>\n        </Tooltip>\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default App;\n'},component:i.default}),"\n",(0,o.jsx)(n.p,{children:'When there are more than 5 filters, consider using an "Advanced filter" option. The filter options can be modified by clicking the corresponding icon. Stacked filter tags should be used when the screen width is limited.'}),"\n",(0,o.jsxs)(n.h3,{id:"data",children:["Data",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#data",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"It is recommended to display all columns of the table. However, in certain scenarios, vertical scrolling may be necessary. For tables with rich data columns, you can utilize expandable table rows to accommodate the additional content."}),"\n",(0,o.jsx)(r.Z,{meta:{dependencies:{"@tanstack/react-table":"^8.9.1","@tonic-ui/react":"^1.20.4","@tonic-ui/utils":"latest",react:"latest","react-virtualized-auto-sizer":"^1.0.15"},files:{"components/BaseTable.js":"import {\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport {\n  Box,\n  Collapse,\n  Flex,\n  Grid,\n  Table,\n  TableHeader,\n  TableHeaderRow,\n  TableHeaderCell,\n  TableBody,\n  TableRow,\n  TableCell,\n  Text,\n  TextLabel,\n  useColorMode,\n  useTheme,\n} from '@tonic-ui/react';\nimport { dataAttr } from '@tonic-ui/utils';\nimport React, { Fragment, forwardRef, useEffect, useState } from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\n/**\n * Assign a value to a ref function or object.\n *\n * @param ref the ref to assign to\n * @param value the value\n */\nconst assignRef = (ref, value) => {\n  if (ref === null || ref === undefined) {\n    return;\n  }\n\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n\n  try {\n    ref.current = value;\n  } catch (error) {\n    throw new Error(`Cannot assign value '${value}' to ref '${ref}'`);\n  }\n};\n\n/**\n * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\n *\n * @param {String} text The text to be rendered.\n * @param {String} font The css font descriptor that text is to be rendered with (e.g. \"bold 14px verdana\").\n *\n * @see https://stackoverflow.com/questions/118241/calculate-text-width-with-javascript/21015393#21015393\n */\nconst getTextWidth = (text, font) => {\n  // re-use canvas object for better performance\n  const canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement('canvas'));\n  const context = canvas.getContext('2d');\n  context.font = font;\n  const metrics = context.measureText(text);\n  return metrics.width || 0;\n};\n\nconst BaseTable = forwardRef((\n  {\n    columns,\n    data,\n    layout = 'flexbox', // One of: 'flexbox', 'table'\n    variant = 'default', // One of: 'default', 'outline'\n\n    // TanStack Table\n    tableOptions,\n    tableRef,\n\n    ...rest\n  },\n  ref,\n) => {\n  const [colorMode] = useColorMode();\n  const theme = useTheme();\n  const hoverBackgroundColor = {\n    dark: 'rgba(255, 255, 255, 0.12)',\n    light: 'rgba(0, 0, 0, 0.12)',\n  }[colorMode];\n  const selectedBackgroundColor = {\n    dark: 'rgba(255, 255, 255, 0.08)',\n    light: 'rgba(0, 0, 0, 0.08)',\n  }[colorMode];\n  const renderExpandedRow = ({ row }) => {\n    const tableBorderColor = {\n      dark: 'gray:70',\n      light: 'gray:30',\n    }[colorMode];\n    const dividerColor = {\n      dark: 'gray:60',\n      light: 'gray:30',\n    }[colorMode];\n    const entries = Object.entries(row.original);\n    const renderValue = (value) => {\n      if (Array.isArray(value)) {\n        return value.map(item => <Text key={item}>{item}</Text>);\n      }\n\n      if (typeof value === 'boolean') {\n        return value.toString();\n      }\n\n      return value;\n    };\n\n    return (\n      <Flex\n        borderBottom={1}\n        borderBottomColor={tableBorderColor}\n      >\n        <Box width=\"12x\" borderRight={2} borderRightColor={dividerColor} />\n        <Box as=\"pre\" fontFamily=\"mono\" m={0} px=\"3x\" py=\"2x\">\n          <Grid\n            templateColumns=\"auto auto\"\n            columnGap=\"10x\"\n            rowGap=\"1x\"\n          >\n            {entries.map(([key, value]) => {\n              return (\n                <Fragment key={key}>\n                  <TextLabel>\n                    {key}\n                  </TextLabel>\n                  <Text>\n                    {renderValue(value)}\n                  </Text>\n                </Fragment>\n              );\n            })}\n          </Grid>\n        </Box>\n      </Flex>\n    );\n  };\n\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    ...tableOptions,\n  });\n\n  if (tableRef) {\n    assignRef(tableRef, table);\n  }\n\n  const [tableWidth, setTableWidth] = useState(0);\n\n  useEffect(() => {\n    if (!tableWidth) {\n      return;\n    }\n\n    const gutterWidth = 12 + 12; // 12px padding on each side of the cell\n    const tableHeaderCellFont = [\n      theme.fontWeights.semibold,\n      theme.fontSizes.sm,\n      theme.fonts.base,\n    ].join(' '); // => '600 14px \"Segoe UI\",-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",Helvetica,Arial,sans-serif'\n\n    // Fixed columns are columns with a fixed size (e.g. 100 or '10%')\n    const fixedColumns = table.getAllColumns()\n      .filter(column => column.columnDef.size !== 'auto')\n      .map(column => {\n        const { id, columnDef } = column;\n        const { minSize, size } = columnDef;\n\n        // If the column size is a number, return the original size value\n        if (typeof size === 'number') {\n          return {\n            id,\n            size,\n          };\n        }\n\n        // If the column size is a percentage, return the computed size value\n        if (typeof size === 'string' && size.endsWith('%')) {\n          const textWidth = (typeof columnDef.header === 'string')\n            ? getTextWidth(columnDef.header, tableHeaderCellFont)\n            : 0;\n          const percentageWidth = tableWidth * parseFloat(size) / 100;\n\n          return {\n            id,\n            size: Math.max(\n              percentageWidth, // percentage of table width\n              textWidth + gutterWidth, // text width with padding\n              minSize, // minimum size (e.g. 40px)\n            ),\n          };\n        }\n\n        // Otherwise, return the minimum size value\n        return {\n          id,\n          size: minSize,\n        };\n      });\n\n    // Flexible columns are columns with a flexible size (e.g. 'auto')\n    const flexColumns = table.getAllColumns()\n      .filter(column => column.columnDef.size === 'auto')\n      .map(column => {\n        const { id, columnDef } = column;\n        const { minSize } = columnDef;\n        const textWidth = (typeof columnDef.header === 'string')\n          ? getTextWidth(columnDef.header, tableHeaderCellFont)\n          : 0;\n\n        return {\n          id,\n          size: Math.max(\n            textWidth + gutterWidth, // text width with padding\n            minSize, // minimum size (e.g. 40px)\n          ),\n        };\n      });\n\n    const totalFixedColumnSize = fixedColumns.reduce((acc, column) => acc + column.size, 0);\n    const totalFlexColumnSize = flexColumns.reduce((acc, column) => acc + column.size, 0);\n\n    let extraSpaceLeft = tableWidth - totalFixedColumnSize;\n\n    // Distribute extra space to fixed columns if flex columns are not present\n    if ((flexColumns.length === 0) && (extraSpaceLeft > 0)) {\n      const extraSpacePerColumn = extraSpaceLeft / fixedColumns.length;\n      fixedColumns.forEach(column => {\n        column.size += extraSpacePerColumn;\n      });\n      extraSpaceLeft = 0;\n    }\n\n    // Distribute extra space to flex columns if flex columns are present\n    if ((flexColumns.length > 0) && (extraSpaceLeft > totalFlexColumnSize)) {\n      /**\n       * Assume that the extra space is 500px and the total flex column size is 400px:\n       * > extraSpaceLeft = 500\n       * > flexColumns = [ { size: 250 }, { size: 150 } ] // => Total size: 400px\n       *\n       * Iteration #0:\n       * > column.size = Math.max(500 / (2 - 0), 250) = Math.max(250, 250) = 250\n       * > extraSpaceLeft = 500 - 250 = 250\n       *\n       * Iteration #1:\n       * > column.size = Math.max(250 / (2 - 1), 150) = Math.max(250, 150) = 250\n       * > extraSpaceLeft = 250 - 250 = 0\n       */\n      flexColumns.forEach((column, index) => {\n        column.size = Math.max(\n          extraSpaceLeft / (flexColumns.length - index),\n          column.size,\n        );\n        extraSpaceLeft -= column.size;\n      });\n    }\n\n    const columnSizing = {};\n\n    for (let i = 0; i < fixedColumns.length; i++) {\n      const column = fixedColumns[i];\n      columnSizing[column.id] = column.size;\n    }\n    for (let i = 0; i < flexColumns.length; i++) {\n      const column = flexColumns[i];\n      columnSizing[column.id] = column.size;\n    }\n\n    table.setColumnSizing(columnSizing);\n  }, [columns, table, tableWidth, theme]);\n\n  return (\n    <Flex\n      ref={ref}\n      {...rest}\n    >\n      <AutoSizer\n        disableHeight\n        onResize={({ width }) => {\n          if (tableWidth !== width) {\n            setTableWidth(width);\n          }\n        }}\n      >\n        {({ width }) => (\n          <Table\n            layout={layout}\n            variant={variant}\n            width={width}\n          >\n            <TableHeader>\n              {table.getHeaderGroups().map(headerGroup => (\n                <TableHeaderRow key={headerGroup.id}>\n                  {headerGroup.headers.map(header => {\n                    const styleProps = {\n                      minWidth: header.column.columnDef.minSize,\n                      width: header.getSize(),\n                      ...header.column.columnDef.style,\n                    };\n                    return (\n                      <TableHeaderCell\n                        key={header.id}\n                        {...styleProps}\n                      >\n                        {header.isPlaceholder\n                          ? null\n                          : flexRender(header.column.columnDef.header, header.getContext())\n                        }\n                      </TableHeaderCell>\n                    );\n                  })}\n                </TableHeaderRow>\n              ))}\n            </TableHeader>\n            <TableBody>\n              {table.getRowModel().rows.map(row => (\n                <Fragment key={row.id}>\n                  <TableRow\n                    data-selected={dataAttr(row.getIsSelected())}\n                    _hover={{\n                      backgroundColor: hoverBackgroundColor,\n                    }}\n                    _selected={{\n                      backgroundColor: selectedBackgroundColor,\n                    }}\n                  >\n                    {row.getVisibleCells().map(cell => {\n                      const styleProps = {\n                        minWidth: cell.column.columnDef.minSize,\n                        width: cell.column.getSize(),\n                        ...cell.column.columnDef.style,\n                      };\n                      return (\n                        <TableCell\n                          key={cell.id}\n                          {...styleProps}\n                        >\n                          {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                        </TableCell>\n                      );\n                    })}\n                  </TableRow>\n                  {(row.getCanExpand() && layout === 'flexbox') && (\n                    <Collapse in={row.getIsExpanded()}>\n                      {renderExpandedRow({ row })}\n                    </Collapse>\n                  )}\n                  {(row.getCanExpand() && layout === 'table') && (\n                    <TableRow>\n                      <TableCell\n                        padding={0}\n                        borderBottom={0}\n                        colSpan={row.getVisibleCells().length}\n                      >\n                        <Collapse in={row.getIsExpanded()}>\n                          {renderExpandedRow({ row })}\n                        </Collapse>\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </Fragment>\n              ))}\n            </TableBody>\n          </Table>\n        )}\n      </AutoSizer>\n    </Flex>\n  );\n});\n\nBaseTable.displayName = 'BaseTable';\n\nexport default BaseTable;"},raw:"import {\n  getExpandedRowModel,\n} from '@tanstack/react-table';\nimport {\n  Box,\n  ButtonBase,\n  Divider,\n  Icon,\n  Text,\n  Truncate,\n  useColorMode,\n  useColorStyle,\n} from '@tonic-ui/react';\nimport BaseTable from './components/BaseTable';\nimport {\n  createTransitionStyle,\n  getEnterTransitionProps,\n  getExitTransitionProps,\n  transitionEasing,\n} from '@tonic-ui/utils';\nimport React, { forwardRef, useEffect, useMemo, useRef } from 'react';\n\nconst data = [\n  {\n    endpointId: '0d4523d9-ceed-4a9a-b3d0-056814ee8811',\n    endpointHostname: 'endpoint-1',\n    endpointIPs: ['fe80::c5a0:6dd9:1002:5760','10.1.136.130'],\n    endpointMAC: '00:50:56:9c:3c:5a',\n    eventId: 1,\n    eventSourceType: 1,\n    firstSeen: '2023-06-07T02:31:48Z',\n    lastSeen: '2023-06-07T02:31:48Z',\n    objectFirstSeen: '2023-06-07T02:27:34Z',\n    objectLastSeen: '2023-06-07T02:32:04Z',\n    objectIPs: [\n      '192.8.82.3',\n      '199.7.83.46',\n      '192.113.5.32',\n    ],\n    osDescription: 'Windows 10 Enterprise (64-bit) build 19044',\n    osType: '0x00000007',\n    osVer: '10.0.19044',\n    processCmd: 'C:\\\\Windows\\\\System32\\\\svchost.exe -k NetworkService -p -s NlaSvc',\n    processFileCreation: '2023-06-05T10:07:28Z',\n    processFileHashMD5: 'b7f884c1b74a263f746ee12a5f7c9f6a',\n    processFileHashSHA1: '1bc5066ddf693fc034d6514618854e26a84fd0d1',\n    processFileHashSHA256: 'add683a6910abbbf0e28b557fad0ba998166394932ae2aca069d9aa19ea8fe88',\n    processFileModifiedTime: '2023-06-05T10:07:28Z',\n    processFileSize: 55320,\n    processLaunchTime: '2023-06-06T09:42:15Z',\n    processName: 'C:\\\\Windows\\\\System32\\\\svchost.exe',\n    processId: 1408,\n    processSigner: 'Microsoft Windows Publisher',\n    processSignerValid: true,\n    processUser: 'NETWORK SERVICE',\n    processUserDomain: 'NT AUTHORITY',\n    productCode: 'dummy',\n    productVersion: 'x.y.z',\n    sessionId: 0,\n    timezone: 'Pacific Standard Time',\n  },\n];\n\nconst App = () => {\n  const [colorMode] = useColorMode();\n  const [colorStyle] = useColorStyle({ colorMode });\n  const layout = 'flexbox'; // One of: 'flexbox', 'table'\n  const variant = 'default'; // One of: 'default', 'outline'\n  const columns = useMemo(() => [\n    {\n      id: 'toggle-expanded',\n      header: () => null,\n      cell: ({ row }) => {\n        const canExpand = row.getCanExpand();\n        const isExpanded = row.getIsExpanded();\n\n        if (!canExpand) {\n          return null;\n        }\n\n        return (\n          <TableRowToggleIcon\n            isExpanded={isExpanded}\n            onClick={row.getToggleExpandedHandler()}\n          />\n        );\n      },\n      size: 48,\n    },\n    {\n      header: 'Logged',\n      accessorKey: 'firstSeen',\n      size: 180,\n      cell: ({ row }) => {\n        return (\n          <Truncate>\n            {row.original?.firstSeen}\n          </Truncate>\n        );\n      },\n    },\n    {\n      id: 'details',\n      cell: ({ row }) => {\n        const entries = Object.entries(row.original);\n\n        return (\n          <Truncate\n            as=\"pre\"\n            fontFamily=\"mono\"\n            m={0}\n            sx={{\n              '--truncate-line-clamp': 3,\n              wordBreak: 'break-all',\n              whiteSpace: 'normal',\n              display: '-webkit-box',\n              WebkitBoxOrient: 'vertical',\n              WebkitLineClamp: 'var(--truncate-line-clamp)',\n            }}\n          >\n            {entries.map((item, index) => {\n              const [key, value] = item;\n              return (\n                <Box\n                  key={key}\n                  display=\"inline\"\n                >\n                  {key}: <Text display=\"inline\" color={colorStyle.color.tertiary}>{Array.isArray(value) ? value.join(',') : value}</Text>\n                  {(index < entries.length - 1) && (\n                    <Divider display=\"inline\" orientation=\"vertical\" mx=\"2x\" />\n                  )}\n                </Box>\n              );\n            })}\n          </Truncate>\n        );\n      },\n      size: 'auto',\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  ], [colorMode, colorStyle]); // Include both colorMode and colorStyle as dependencies to prevent memoization when the color mode changes\n  const tableOptions = useMemo(() => ({\n    defaultColumn: {\n      minSize: 48,\n    },\n    getExpandedRowModel: getExpandedRowModel(),\n    getRowCanExpand: () => true,\n  }), []);\n  const tableRef = useRef(null);\n\n  useEffect(() => {\n    if (tableRef.current) {\n      // Toggles the expanded state for all rows\n      tableRef.current.toggleAllRowsExpanded(true);\n    }\n  }, []);\n\n  return (\n    <BaseTable\n      layout={layout}\n      variant={variant}\n      columns={columns}\n      data={data}\n      tableOptions={tableOptions}\n      tableRef={tableRef}\n    />\n  );\n};\n\nconst TableRowToggleIcon = forwardRef((\n  {\n    isExpanded,\n    ...rest\n  },\n  ref,\n) => {\n  const timeout = isExpanded\n    ? Math.floor(133 * 0.7) // exit\n    : 133; // enter\n  const easing = transitionEasing.easeOut;\n  const transitionProps = isExpanded\n    ? getEnterTransitionProps({ timeout, easing })\n    : getExitTransitionProps({ timeout, easing });\n  const styleProps = {\n    transform: isExpanded ? 'rotate(90deg)' : 'rotate(0deg)',\n    transition: createTransitionStyle('transform', transitionProps),\n  };\n\n  return (\n    <ButtonBase {...rest}>\n      <Icon icon=\"angle-right\" size=\"4x\" {...styleProps} />\n    </ButtonBase>\n  );\n});\nTableRowToggleIcon.displayName = 'TableRowToggleIcon';\n\nexport default App;\n"},component:a.default}),"\n",(0,o.jsxs)(n.h3,{id:"footer",children:["Footer",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#footer",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(n.p,{children:"The footer should be fixed at the bottom of the screen to ensure consistent positioning."}),"\n",(0,o.jsxs)(n.h2,{id:"see-also",children:["See Also",(0,o.jsx)(n.a,{"aria-hidden":!0,className:"anchor-link",tabIndex:"-1",href:"#see-also",children:(0,o.jsx)(n.svg,{children:(0,o.jsx)(n.use,{xlinkHref:"#anchor-link-icon"})})})]}),"\n",(0,o.jsx)(c.Flex,{children:(0,o.jsxs)(c.Grid,{templateColumns:"1fr",columnGap:"18x",rowGap:"4x",children:[(0,o.jsx)(c.TextLabel,{children:"React Components"}),(0,o.jsx)(c.Box,{children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"../components/table",children:"Table"})}),"\n"]})})]})})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,l.ah)(),e.components).wrapper;return n?(0,o.jsx)(n,Object.assign({},e,{children:(0,o.jsx)(u,e)})):u(e)}},24274:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/patterns/table-display",function(){return t(18502)}])}},function(e){e.O(0,[5412,1374,6638,9774,2888,179],function(){return e(e.s=24274)}),_N_E=e.O()}]);