(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2750],{21434:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var s=i(98922),n=i(2784),r=i(28316);function o(e){let t=window.getComputedStyle(e);return Math.max(parseInt(t["margin-top"],10),parseInt(t["margin-bottom"],10))+e.getBoundingClientRect().height}function a(e,t=0,i=0){if(e){if(null===t||null===i){e.style.removeProperty("transform");return}e.style.transform=`translate(${i}px, ${t}px)`}}function l(e,t,i){e&&(e.style.transition=`transform ${t}ms${i?` ${i}`:""}`)}let h=e=>{let t=[],i=null,s=(...s)=>{t=s,i||(i=requestAnimationFrame(()=>{i=null,e(...t)}))};return s.cancel=()=>{i&&cancelAnimationFrame(i)},s};function d(e,t){let i=["input","textarea","select","option","optgroup","video","audio","button","a"],s=["button","link","checkbox","tab"];for(;e!==t&&!e.getAttribute("data-movable-handle");){if(i.includes(e.tagName.toLowerCase()))return!0;let t=e.getAttribute("role");if(t&&s.includes(t.toLowerCase())||"label"===e.tagName.toLowerCase()&&e.hasAttribute("for"))return!0;e.tagName&&(e=e.parentElement)}return!1}class c extends n.Component{constructor(e){super(e),this.listRef=n.createRef(),this.ghostRef=n.createRef(),this.topOffsets=[],this.itemTranslateOffsets=[],this.initialYOffset=0,this.lastScroll=0,this.lastYOffset=0,this.lastListYOffset=0,this.needle=-1,this.afterIndex=-2,this.state={itemDragged:-1,itemDraggedOutOfBounds:-1,selectedItem:-1,initialX:0,initialY:0,targetX:0,targetY:0,targetHeight:0,targetWidth:0,liveText:"",scrollingSpeed:0,scrollWindow:!1},this.doScrolling=()=>{let{scrollingSpeed:e,scrollWindow:t}=this.state,i=this.listRef.current;window.requestAnimationFrame(()=>{t?window.scrollTo(window.pageXOffset,window.pageYOffset+1.5*e):i.scrollTop+=e,0!==e&&this.doScrolling()})},this.getChildren=()=>this.listRef&&this.listRef.current?Array.from(this.listRef.current.children):(console.warn("No items found in the List container. Did you forget to pass & spread the `props` param in renderList?"),[]),this.calculateOffsets=()=>{this.topOffsets=this.getChildren().map(e=>e.getBoundingClientRect().top),this.itemTranslateOffsets=this.getChildren().map(e=>o(e))},this.getTargetIndex=e=>this.getChildren().findIndex(t=>t===e.target||t.contains(e.target)),this.onMouseOrTouchStart=e=>{this.dropTimeout&&this.state.itemDragged>-1&&(window.clearTimeout(this.dropTimeout),this.finishDrop());let t=e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length;if(!t&&0!==e.button)return;let i=this.getTargetIndex(e);if(-1===i||this.props.values[i]&&this.props.values[i].disabled){-1!==this.state.selectedItem&&(this.setState({selectedItem:-1}),this.finishDrop());return}let s=this.getChildren()[i],n=s.querySelector("[data-movable-handle]");if(!(n&&!n.contains(e.target)||d(e.target,s))){if(e.preventDefault(),this.props.beforeDrag&&this.props.beforeDrag({elements:this.getChildren(),index:i}),t){let e={passive:!1};s.style.touchAction="none",document.addEventListener("touchend",this.schdOnEnd,e),document.addEventListener("touchmove",this.schdOnTouchMove,e),document.addEventListener("touchcancel",this.schdOnEnd,e)}else{document.addEventListener("mousemove",this.schdOnMouseMove),document.addEventListener("mouseup",this.schdOnEnd);let e=this.getChildren()[this.state.itemDragged];e&&e.style&&(e.style.touchAction="")}this.onStart(s,t?e.touches[0].clientX:e.clientX,t?e.touches[0].clientY:e.clientY,i)}},this.getYOffset=()=>{let e=this.listRef.current?this.listRef.current.scrollTop:0;return window.pageYOffset+e},this.onStart=(e,t,i,s)=>{this.state.selectedItem>-1&&(this.setState({selectedItem:-1}),this.needle=-1);let n=e.getBoundingClientRect(),r=window.getComputedStyle(e);this.calculateOffsets(),this.initialYOffset=this.getYOffset(),this.lastYOffset=window.pageYOffset,this.lastListYOffset=this.listRef.current.scrollTop,this.setState({itemDragged:s,targetX:n.left-parseInt(r["margin-left"],10),targetY:n.top-parseInt(r["margin-top"],10),targetHeight:n.height,targetWidth:n.width,initialX:t,initialY:i})},this.onMouseMove=e=>{e.cancelable&&e.preventDefault(),this.onMove(e.clientX,e.clientY)},this.onTouchMove=e=>{e.cancelable&&e.preventDefault(),this.onMove(e.touches[0].clientX,e.touches[0].clientY)},this.onWheel=e=>{this.state.itemDragged<0||(this.lastScroll=this.listRef.current.scrollTop+=e.deltaY,this.moveOtherItems())},this.onMove=(e,t)=>{if(-1===this.state.itemDragged)return null;a(this.ghostRef.current,t-this.state.initialY,this.props.lockVertically?0:e-this.state.initialX),this.autoScrolling(t),this.moveOtherItems()},this.moveOtherItems=()=>{let e=this.ghostRef.current.getBoundingClientRect(),t=e.top+e.height/2,i=o(this.getChildren()[this.state.itemDragged]),s=this.getYOffset();this.initialYOffset!==s&&(this.topOffsets=this.topOffsets.map(e=>e-(s-this.initialYOffset)),this.initialYOffset=s),this.isDraggedItemOutOfBounds()&&this.props.removableByMove?this.afterIndex=this.topOffsets.length+1:this.afterIndex=function(e,t){let i,s=0,n=e.length-1;for(;s<=n;){if(!e[(i=Math.floor((n+s)/2))+1]||e[i]<=t&&e[i+1]>=t)return i;e[i]<t&&e[i+1]<t?s=i+1:n=i-1}return -1}(this.topOffsets,t),this.animateItems(-1===this.afterIndex?0:this.afterIndex,this.state.itemDragged,i)},this.autoScrolling=e=>{let{top:t,bottom:i,height:s}=this.listRef.current.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;if(i>n&&n-e<200)this.setState({scrollingSpeed:Math.round((200-(n-e))/10),scrollWindow:!0});else if(t<0&&e<200)this.setState({scrollingSpeed:Math.round(-((200-e)/10)),scrollWindow:!0});else if(this.state.scrollWindow&&0!==this.state.scrollingSpeed&&this.setState({scrollingSpeed:0,scrollWindow:!1}),s+20<this.listRef.current.scrollHeight){let s=0;e-t<200?s=Math.round(-((200-(e-t))/10)):i-e<200&&(s=Math.round((200-(i-e))/10)),this.state.scrollingSpeed!==s&&this.setState({scrollingSpeed:s})}},this.animateItems=(e,t,i,s=!1)=>{this.getChildren().forEach((n,r)=>{if(l(n,this.props.transitionDuration),t===r&&s){if(t===e)return a(n,null);a(n,t<e?this.itemTranslateOffsets.slice(t+1,e+1).reduce((e,t)=>e+t,0):-1*this.itemTranslateOffsets.slice(e,t).reduce((e,t)=>e+t,0))}else t<e&&r>t&&r<=e?a(n,-i):r<t&&t>e&&r>=e?a(n,i):a(n,null)})},this.isDraggedItemOutOfBounds=()=>{let e=this.getChildren()[this.state.itemDragged].getBoundingClientRect(),t=this.ghostRef.current.getBoundingClientRect();return Math.abs(e.left-t.left)>t.width?(-1===this.state.itemDraggedOutOfBounds&&this.setState({itemDraggedOutOfBounds:this.state.itemDragged}),!0):(this.state.itemDraggedOutOfBounds>-1&&this.setState({itemDraggedOutOfBounds:-1}),!1)},this.onEnd=e=>{e.cancelable&&e.preventDefault(),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchup",this.schdOnEnd),document.removeEventListener("touchcancel",this.schdOnEnd);let t=this.props.removableByMove&&this.isDraggedItemOutOfBounds();!t&&this.props.transitionDuration>0&&-2!==this.afterIndex&&h(()=>{l(this.ghostRef.current,this.props.transitionDuration,"cubic-bezier(.2,1,.1,1)"),this.afterIndex<1&&0===this.state.itemDragged?a(this.ghostRef.current,0,0):a(this.ghostRef.current,-(window.pageYOffset-this.lastYOffset)+-(this.listRef.current.scrollTop-this.lastListYOffset)+(this.state.itemDragged<this.afterIndex?this.itemTranslateOffsets.slice(this.state.itemDragged+1,this.afterIndex+1).reduce((e,t)=>e+t,0):-1*this.itemTranslateOffsets.slice(this.afterIndex<0?0:this.afterIndex,this.state.itemDragged).reduce((e,t)=>e+t,0)),0)})(),this.dropTimeout=window.setTimeout(this.finishDrop,t||-2===this.afterIndex?0:this.props.transitionDuration)},this.finishDrop=()=>{let e=this.props.removableByMove&&this.isDraggedItemOutOfBounds();(e||this.afterIndex>-2&&this.state.itemDragged!==this.afterIndex)&&this.props.onChange({oldIndex:this.state.itemDragged,newIndex:e?-1:Math.max(this.afterIndex,0),targetRect:this.ghostRef.current.getBoundingClientRect()}),this.getChildren().forEach(e=>{l(e,0),a(e,null),e.style.touchAction=""}),this.setState({itemDragged:-1,scrollingSpeed:0}),this.afterIndex=-2,this.lastScroll>0&&(this.listRef.current.scrollTop=this.lastScroll,this.lastScroll=0)},this.onKeyDown=e=>{let t=this.state.selectedItem,i=this.getTargetIndex(e);if(!d(e.target,e.currentTarget)&&-1!==i){if(" "===e.key&&(e.preventDefault(),t===i?(t!==this.needle&&(this.getChildren().forEach(e=>{l(e,0),a(e,null)}),this.props.onChange({oldIndex:t,newIndex:this.needle,targetRect:this.getChildren()[this.needle].getBoundingClientRect()}),this.getChildren()[this.needle].focus()),this.setState({selectedItem:-1,liveText:this.props.voiceover.dropped(t+1,this.needle+1)}),this.needle=-1):(this.setState({selectedItem:i,liveText:this.props.voiceover.lifted(i+1)}),this.needle=i,this.calculateOffsets())),("ArrowDown"===e.key||"j"===e.key)&&t>-1&&this.needle<this.props.values.length-1){e.preventDefault();let i=o(this.getChildren()[t]);this.needle++,this.animateItems(this.needle,t,i,!0),this.setState({liveText:this.props.voiceover.moved(this.needle+1,!1)})}if(("ArrowUp"===e.key||"k"===e.key)&&t>-1&&this.needle>0){e.preventDefault();let i=o(this.getChildren()[t]);this.needle--,this.animateItems(this.needle,t,i,!0),this.setState({liveText:this.props.voiceover.moved(this.needle+1,!0)})}"Escape"===e.key&&t>-1&&(this.getChildren().forEach(e=>{l(e,0),a(e,null)}),this.setState({selectedItem:-1,liveText:this.props.voiceover.canceled(t+1)}),this.needle=-1),("Tab"===e.key||"Enter"===e.key)&&t>-1&&e.preventDefault()}},this.schdOnMouseMove=h(this.onMouseMove),this.schdOnTouchMove=h(this.onTouchMove),this.schdOnEnd=h(this.onEnd)}componentDidMount(){this.calculateOffsets(),document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1,capture:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart)}componentDidUpdate(e,t){t.scrollingSpeed!==this.state.scrollingSpeed&&0===t.scrollingSpeed&&this.doScrolling()}componentWillUnmount(){document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mousedown",this.onMouseOrTouchStart),this.dropTimeout&&window.clearTimeout(this.dropTimeout),this.schdOnMouseMove.cancel(),this.schdOnTouchMove.cancel(),this.schdOnEnd.cancel()}render(){let e={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",boxSizing:"border-box",position:"relative"},t={...e,top:this.state.targetY,left:this.state.targetX,width:this.state.targetWidth,height:this.state.targetHeight,position:"fixed",marginTop:0};return n.createElement(n.Fragment,null,this.props.renderList({children:this.props.values.map((t,i)=>{let s=i===this.state.itemDragged,n=i===this.state.selectedItem,r=this.props.values[i]&&this.props.values[i].disabled,o={key:i,tabIndex:r?-1:0,"aria-roledescription":this.props.voiceover.item(i+1),onKeyDown:this.onKeyDown,style:{...e,visibility:s?"hidden":void 0,zIndex:n?5e3:0}};return this.props.renderItem({value:t,props:o,index:i,isDragged:!1,isSelected:n,isOutOfBounds:!1})}),isDragged:this.state.itemDragged>-1,props:{ref:this.listRef}}),this.state.itemDragged>-1&&r.createPortal(this.props.renderItem({value:this.props.values[this.state.itemDragged],props:{ref:this.ghostRef,style:t,onWheel:this.onWheel},index:this.state.itemDragged,isDragged:!0,isSelected:!1,isOutOfBounds:this.state.itemDraggedOutOfBounds>-1}),this.props.container||document.body),n.createElement("div",{"aria-live":"assertive",role:"log","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0px",padding:"0px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"}},this.state.liveText))}}function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach(function(t){var s;s=i[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=Array(t);i<t;i++)s[i]=e[i];return s}c.defaultProps={transitionDuration:300,lockVertically:!1,removableByMove:!1,voiceover:{item:e=>`You are currently at a draggable item at position ${e}. Press space bar to lift.`,lifted:e=>`You have lifted item at position ${e}. Press j to move down, k to move up, space bar to drop and escape to cancel.`,moved:(e,t)=>`You have moved the lifted item ${t?"up":"down"} to position ${e}. Press j to move down, k to move up, space bar to drop and escape to cancel.`,dropped:(e,t)=>`You have dropped the item. It has moved from position ${e} to ${t}.`,canceled:e=>`You have cancelled the movement. The item has returned to its starting position of ${e}.`}};var m=function(){var e,t=(0,s.useColorMode)().colorMode,i={dark:{backgroundColor:"gray:80"},light:{backgroundColor:"gray:10"}}[t],r={dark:{backgroundColor:"gray:100"},light:{backgroundColor:"white"}}[t],o=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)([{id:1,eventType:"Virus/Malware",affectedDevices:20,detections:634},{id:2,eventType:"Spyware/Grayware",affectedDevices:20,detections:634},{id:3,eventType:"URL Filtering",affectedDevices:15,detections:598},{id:4,eventType:"Web Reputation",affectedDevices:15,detections:598},{id:5,eventType:"Network Virus",affectedDevices:15,detections:497},{id:6,eventType:"Application Control",affectedDevices:0,detections:0}]))||function(e,t){var i,s,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return r}}(e,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1];return n.createElement(c,{values:a,onChange:function(e){var t,i=e.oldIndex,s=e.newIndex;return l(((t=(t=a).slice()).splice(s<0?t.length+s:s,0,t.splice(i,1)[0]),t))},renderList:function(e){var t=e.children,o=e.props,a=e.isDragged;return n.createElement(s.Table,g({},i,{style:{cursor:a?"grabbing":void 0}}),n.createElement(s.TableHeader,null,n.createElement(s.TableHeaderRow,r,n.createElement(s.TableHeaderCell,{width:"240px"},"Event Type"),n.createElement(s.TableHeaderCell,{width:"150px",textAlign:"right"},"Affected Devices"),n.createElement(s.TableHeaderCell,{width:"150px",textAlign:"right"},"Detections"))),n.createElement(s.TableBody,o,t))},renderItem:function(e){var t=e.value,i=e.props,o=e.isDragged;e.isSelected;var a=n.createElement(s.TableRow,g({},i,r,{style:f(f({},i.style),{},{cursor:o?"grabbing":"grab"})}),n.createElement(s.TableCell,{width:"240px"},t.eventType),n.createElement(s.TableCell,{width:"150px",textAlign:"right"},t.affectedDevices),n.createElement(s.TableCell,{width:"150px",textAlign:"right"},t.detections));return o?n.createElement(s.Table,{style:f({},i.style)},n.createElement(s.TableBody,null,a)):a}})}},45716:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/table/backup/reordering-rows-with-react-movable",function(){return i(21434)}])}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=45716)}),_N_E=e.O()}]);